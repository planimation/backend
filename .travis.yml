language: python
python: "3.6"
cache:
  directories:
    - $HOME/.cache/pip
before_cache:
  - rm -f $HOME/.cache/pip/log/debug.log
env:
  - BACKEND_SOURCE=$TRAVIS_BUILD_DIR/server
services:
  - docker
before_install:
  - cd $TRAVIS_BUILD_DIR/docker
before_script: 
  - pip install docker-compose
script:
  - docker-compose run planimation_server sh -c "python manage.py test"